#!/usr/bin/env bash
# displays a list of currently running processes.
# show all processes, for all users, including those
# which might not have a TTY
# Display in a user-oriented format
# Show process hierarchy
ps aux --forest > process_list.txt

# Display list of processes in a user-oriented format
echo "USER        PID  %CPU  %MEM  VSZ   RSS   TTY    STAT  START   TIME   COMMAND"
echo "=========================================================================="

# Parse the process_list.txt file and display each process in a formatted way
while read -r process; do
  echo "$process" | awk '{printf "%-10s %-5s %-5s %-5s %-5s %-5s %-5s %-5s %-5s %s\n", $1, $2, $3, $4, $5, $6, $7, $8, $9, substr($0, index($0,$10))}'
done < process_list.txt
